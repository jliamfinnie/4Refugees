<section ng-controller="OfferingsController" ng-init="findAllMine()">
<div class="row">
<!-- s11 looks a bit nicer on a smaller screen so it won't display all the way to the edge -->
  <div class="col m12 s11">
    <br>
    <h4 ng-class="properties.rightToLeft ? 'right':'left'">{{properties.myOfferings}}</h4>
    <div class="row">
      <div class="col m12 s12" ng-class="properties.rightToLeft ? 'right-align':'left-align'">
        <ul>
          <li ng-repeat="offering in offerings" class="list-group-item">
            <div class="row">
              <div class="ibm-offering-list card">
                <div class="card-content">
                  <!-- TODO replace attributes with icons -->
                  <span class="badge">{{offering.offerType}}</span>
                  <span class="card-title"> {{offering.description}}</span>
                  <p><div class="chip" ng-bind="offering.category"></div></p>
                  <p>{{properties.location}}: <span ng-bind="offering.city"></span></p>
                  <small class="list-group-item-text">
                    {{properties.availableOn}}
                    <span ng-bind="offering.when | date:'mediumDate'"></span>
                    <br>{{properties.lastUpdatedOn}}
                    <span ng-bind="offering.updated | date:'mediumDate'"></span>
                    <br>{{properties.expiresOn}}
                    <span ng-bind="offering.expiry | date:'mediumDate'"></span>
                  </small>
                </div>
                <div class="card-action">
                    <div class="ibm-submit-area" ng-class="properties.rightToLeft ? 'arabic':'latin'">
                      <div class="row">
                        <div class="col m12 s12" ng-if="authentication.user._id == offering.user._id">
                            <button class="offering-submit-button btn btn-primary waves-effect waves-light" ui-sref="offerings.edit({offerType: offering.offerType, offeringId: offering._id})">
                              {{properties.editButton}}
                              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                              width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">
                              <rect x="24.379" y="1.257" transform="matrix(0.7071 -0.7071 0.7071 0.7071 3.8726 20.3492)" width="4.243" height="8.485"/>
                              <path d="M5,21l6,6l15-15l-6-6L5,21z M11,24.171L7.828,21L20,8.829L23.172,12L11,24.171z"/>
                              <polygon points="1,31 6,29 3,26   "/>
                              </svg>
                            </button>
                            <button ng-if="offeringId != '0'" type="submit" class="offering-delete-button btn btn-danger waves-effect waves-light" ng-click="removeOfferingFromList(offering);">
                            {{properties.deleteButton}}
                            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                            width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">
                            <rect x="12" y="2" width="8" height="2"/>
                            <path d="M6,5v5h1v20h18V10h1V5H6z M23,28H9V12h14V28z"/>
                            <rect x="11" y="14" width="1" height="12"/>
                            <rect x="14" y="14" width="1" height="12"/>
                            <rect x="17" y="14" width="1" height="12"/>
                            <rect x="20" y="14" width="1" height="12"/>
                            </svg>
                            </button>
                        </div>
                      </div> <!-- end of row -->
                    </div> <!-- end of ibm-submit-area -->
                </div> <!-- end of card-action -->
              </div> <!-- end of card -->
            </div>
          </li>
        </ul>
      </div>
      <div class="col m6 s11" ng-class="properties.rightToLeft ? 'right':'left'">
        <div class="alert alert-warning text-center" ng-if="offerings.$resolved && !offerings.length">
          <a href="offerings/create?offerType=offer&offeringId=0">{{properties.createFirstOffering}}</a>
        </div>
      </div>
    </div>
  </div>
</div>
</section>
