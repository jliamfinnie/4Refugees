<!-- According to Mean.JS design, external scripts have to be included in header, see the example here:
https://scotch.io/tutorials/making-mean-apps-with-google-maps-part-i -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>
<div ng-controller="HeaderController">
  <nav>
    <div class="nav-wrapper ibm-header">
        <img ui-sref="home" src="modules/core/client/img/brand/logo.svg" class="ibm-header-logo" ng-class="properties.rightToLeft? 'arabic':'latin' ">
        <a ui-sref="home" class="ibm-brand-logo" ng-class="{left:!properties.rightToLeft, right:properties.rightToLeft}">
        4Refuge.es</a>
        <!-- mobile hamburger menus for left-to-right languages e.g. English/Deutsch and for right-to-left languages e.g. Arabic/Farsi -->
        <a href="#" data-activates="user-mobile-navigator" class="button-collapse right" data-sidenav="right" data-menuwidth="200" data-closeonclick="true" ng-if="!properties.rightToLeft"><i class="material-icons">menu</i></a>
        <a href="#" data-activates="user-mobile-navigator" class="button-collapse left" data-sidenav="left" data-menuwidth="240" data-closeonclick="true" ng-if="properties.rightToLeft"><i class="material-icons">menu</i></a>
        <!-- mobile language menu for left-to-right languages e.g. English/Deutsch and for right-to-left languages e.g. Arabic/Farsi-->
        <a href="#" data-activates="language-mobile-navigator" class="button-collapse right" data-sidenav="right" data-menuwidth="180" data-closeonclick="true" ng-if="!properties.rightToLeft"><i class="material-icons">language</i></a>
        <a href="#" data-activates="language-mobile-navigator" class="button-collapse left" data-sidenav="left" data-menuwidth="180" data-closeonclick="true" ng-if="properties.rightToLeft"><i class="material-icons">language</i></a>

        <!-- mobile menu for languages -->
        <ul class="side-nav ibm-mobile-menu language" id="language-mobile-navigator">
            <li ui-sref-active="active">
                <a ng-click="changeLanguage('ar')" >العربية
                    <i class="material-icons small right" ng-show="properties.arabicSelected">done</i>
                </a>
            </li>
            <li ui-sref-active="active">
                <a ng-click="changeLanguage('en')">English
                    <i class="material-icons small right" ng-show="properties.englishSelected">done</i>
                </a>
            </li>
            <li ui-sref-active="active">
                <a ng-click="changeLanguage('de')">Deutsch
                    <i class="material-icons small right" ng-show="properties.germanSelected">done</i>
                </a>
            </li>
        </ul>
        <!-- mobile user menu -->
        <ul class="side-nav ibm-mobile-menu user" ng-class="properties.rightToLeft? 'arabic':'latin'" id="user-mobile-navigator">
            <ul ng-hide="authentication.user">
                <li ui-sref-active="active" >
                    <a ui-sref="authentication.signin">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">
                        <polygon points="14.5,21.586 12.207,19.293 10.793,20.707 14.5,24.414 21.207,17.707 19.793,16.293"/>
                        <path d="M24,12.466V9c0-4.418-3.581-8-8-8S8,4.582,8,9v3.467C6.145,14.436,5,17.082,5,20c0,6.074,4.926,11,11,11
                        c6.076,0,11-4.926,11-11C27,17.081,25.855,14.436,24,12.466z M10,9c0-3.309,2.691-6,6-6s6,2.691,6,6v1.788
                        C20.273,9.661,18.215,9,16,9c-2.215,0-4.273,0.661-6,1.788V9z M16,29c-4.971,0-9-4.029-9-9s4.029-9,9-9s9,4.029,9,9
                        S20.971,29,16,29z"/>
                        </svg>
                        {{properties.signIn}}
                    </a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref="authentication.signup">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">
                        <path d="M18,5V1h-4v4H6v26h20V5H18z M16,2c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S15.448,2,16,2z M24,29H8V7h6v2h4V7h6V29z"/>
                        <path d="M16,11c-2.762,0-5,2.238-5,5s2.238,5,5,5s5-2.238,5-5S18.762,11,16,11z M16,19c-1.654,0-3-1.346-3-3s1.346-3,3-3
                        s3,1.346,3,3S17.654,19,16,19z"/>
                        <path d="M12,23c-1.104,0-2,0.896-2,2v2h12v-2c0-1.104-0.896-2-2-2H12z"/>
                        </svg>
                    {{properties.register}}
                    </a>
                </li>
            </ul>
            <ul ng-show="authentication.user">
                <li ui-sref-active="active">
                    <a ui-sref="postings.list"> 
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">
                        <path d="M16,4L1,12v1v15h30V13v-1L16,4z M7,11h18v4.2L16,20l-9-4.8V11z M29,26H3V14.066L16,21l13-6.934V26z"/>
                        </svg> 
                        {{properties.mail}}
                        <span ng-if="hasUnreadMail" class="waves-effect waves-circle waves-light btn-floating secondary-content" ng-class="properties.rightToLeft? 'left': 'right'">{{unreadMailCount}}</span>
                    </a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref="settings.profile" font-size="1.0rem">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">
                        <path d="M16,21c5.523,0,10-4.477,10-10S21.523,1,16,1S6,5.477,6,11S10.477,21,16,21z M16,3c4.411,0,8,3.589,8,8s-3.589,8-8,8
                        s-8-3.589-8-8S11.589,3,16,3z"/>
                        <path d="M24,23H8c-2.209,0-4,1.791-4,4v4h24v-4C28,24.791,26.209,23,24,23z"/>
                        </svg>    
                    {{properties.profile}}
                    </a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref="offerings.listMine">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">
                        <path d="M24,15V3H8v12H3v14h26V15H24z M10,5h12v10H10V5z M27,27H5V17h3h16h3V27z"/>
                        <rect x="12" y="9" width="8" height="1"/>
                        <rect x="12" y="11" width="8" height="1"/>
                        <polygon points="19,22 13,22 13,21 12,21 12,22 12,23 13,23 19,23 20,23 20,22 20,21 19,21    "/>
                        </svg>  
                    {{properties.listMyOfferings}}</a>
                </li>
                <li>
                    <a href="/api/auth/signout" target="_self">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">
                        <polygon points="19.293,15.293 16,18.586 12.707,15.293 11.293,16.707 14.586,20 11.293,23.293 12.707,24.707 16,21.414 
                        19.293,24.707 20.707,23.293 17.414,20 20.707,16.707     "/>
                        <path d="M16,9c-2.215,0-4.273,0.661-6,1.788V9c0-3.309,2.691-6,6-6c1.654,0,3.154,0.673,4.241,1.759l1.416-1.416
                        C20.209,1.895,18.209,1,16,1c-4.419,0-8,3.582-8,8v3.467C6.145,14.436,5,17.082,5,20c0,6.074,4.926,11,11,11
                        c6.076,0,11-4.926,11-11S22.076,9,16,9z M16,29c-4.971,0-9-4.029-9-9s4.029-9,9-9c4.971,0,9,4.029,9,9S20.971,29,16,29z"/>
                        </svg>
                    {{properties.signOut}}
                    </a> 
                </li>
            </ul>   
        </ul> <!-- end of mobile menu -->
      <!-- Menu for big screen e.g. computer - ibm dropdown container -->
      <div class="hide-on-med-and-down ibm-dropdown-container">
        <!-- Dropdown for unauthenticated users -->
        <ul ng-class="{right:!properties.rightToLeft, left:properties.rightToLeft}" ng-hide="authentication.user">
            <li ui-sref-active="active">
                <a ui-sref="authentication.signin">
                {{properties.signIn}}
                </a>
            </li>
            <li ui-sref-active="active">
                <a ui-sref="authentication.signup">
                {{properties.register}}</a>
            </li>
        </ul>
      
        <!-- Dropdown for authenticated users -->
        <ul ng-class="{right:!properties.rightToLeft, left:properties.rightToLeft}" ng-show="authentication.user">
            <li>
                <a class="dropdown-button" href="#" data-activates="dropdownAuth" dropdown>
                <img ng-src="{{authentication.user.profileImageURL}}" class="header-profile-image" />
                {{authentication.user.displayName}}
                <i class="material-icons right">arrow_drop_down</i>
                </a>
                <ul id="dropdownAuth" class="dropdown-content ibm-dropdown-component"  ng-class="properties.rightToLeft? 'arabic' : 'latin'">
                    <li ui-sref-active="active">
                    <a ui-sref="postings.list">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">
                        <path d="M16,4L1,12v1v15h30V13v-1L16,4z M7,11h18v4.2L16,20l-9-4.8V11z M29,26H3V14.066L16,21l13-6.934V26z"/>
                        </svg>
                        {{properties.mail}}
                        <span ng-if="hasUnreadMail" class="waves-effect waves-circle waves-light btn-floating secondary-content" ng-class="properties.rightToLeft? 'left': 'right'">{{unreadMailCount}}</span>
                    </a>
                    </li>
                    <li ui-sref-active="active">
                    <a ui-sref="settings.profile" font-size="1.0rem">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">
                        <path d="M16,21c5.523,0,10-4.477,10-10S21.523,1,16,1S6,5.477,6,11S10.477,21,16,21z M16,3c4.411,0,8,3.589,8,8s-3.589,8-8,8
                        s-8-3.589-8-8S11.589,3,16,3z"/>
                        <path d="M24,23H8c-2.209,0-4,1.791-4,4v4h24v-4C28,24.791,26.209,23,24,23z"/>
                        </svg>
                    {{properties.profile}}</a>
                    </li>
                    <li ui-sref-active="active">
                    <a ui-sref="offerings.listMine">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">
                        <path d="M24,15V3H8v12H3v14h26V15H24z M10,5h12v10H10V5z M27,27H5V17h3h16h3V27z"/>
                        <rect x="12" y="9" width="8" height="1"/>
                        <rect x="12" y="11" width="8" height="1"/>
                        <polygon points="19,22 13,22 13,21 12,21 12,22 12,23 13,23 19,23 20,23 20,22 20,21 19,21    "/>
                        </svg>
                    {{properties.listMyOfferings}}</a>
                    </li>
                    <li class="divider"></li>
                    <li>
                    <a href="/api/auth/signout" target="_self">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">
                        <polygon points="19.293,15.293 16,18.586 12.707,15.293 11.293,16.707 14.586,20 11.293,23.293 12.707,24.707 16,21.414 
                        19.293,24.707 20.707,23.293 17.414,20 20.707,16.707     "/>
                        <path d="M16,9c-2.215,0-4.273,0.661-6,1.788V9c0-3.309,2.691-6,6-6c1.654,0,3.154,0.673,4.241,1.759l1.416-1.416
                        C20.209,1.895,18.209,1,16,1c-4.419,0-8,3.582-8,8v3.467C6.145,14.436,5,17.082,5,20c0,6.074,4.926,11,11,11
                        c6.076,0,11-4.926,11-11S22.076,9,16,9z M16,29c-4.971,0-9-4.029-9-9s4.029-9,9-9c4.971,0,9,4.029,9,9S20.971,29,16,29z"/>
                        </svg>
                    {{properties.signOut}}</a>
                    </li>
                </ul>
            </li>
        </ul>

        <!-- Dropdown for admins -->
        <ul class="right" ng-show="checkAdminRole()">
            <li>
                <a class="dropdown-button" href="#" data-activates="dropdownAdmin" dropdown>
                <i class="large material-icons">supervisor_account arrow_drop_down</i>
                </a>
                <ul id="dropdownAdmin" class="dropdown-content ibm-dropdown-component">
                    <li ui-sref-active="active">
                    <a ui-sref="admin.users">Manage Users</a>
                    </li>
                    <li class="divider"></li>
                    <li ui-sref-active="active">
                    <a ui-sref="postings.createadmin">Send Mail to User</a>
                    </li>
                </ul>
            </li>
        </ul>

        <ul ng-class="{right:!properties.rightToLeft, left:properties.rightToLeft}">
          <li>
            <a class="dropdown-button" href="#" data-activates="dropdownLanguage" dropdown>
                    {{properties.currentLanguageShownInHeader}}
                <i class="material-icons right">language</i>
                </a>
                
                <ul id="dropdownLanguage" class="dropdown-content ibm-dropdown-component">
                    <li ui-sref-active="active">
                    <a ng-click="changeLanguage('ar')" >العربية
                    <i class="material-icons small right" ng-show="properties.arabicSelected">done</i>
                    </a>
                    </li>
                    <li ui-sref-active="active">
                    <a ng-click="changeLanguage('en')">English
                    <i class="material-icons small right" ng-show="properties.englishSelected">done</i>
                    </a>
                    </li>
                    <li ui-sref-active="active">
                    <a ng-click="changeLanguage('de')">Deutsch
                    <i class="material-icons small right" ng-show="properties.germanSelected">done</i>
                    </a>
                    </li>
                </ul>
            </li>        
        </ul>  
        
      </div> <!-- end of big screen menu IBM dropdown-container -->
    
    </div>
  </nav>
</div>

